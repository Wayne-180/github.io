<script>
    /** 
     * @Author: Wayne 
     * @Date: 2019-07-23 22:18:53 
     * @Desc:array数组 value需要对比的数据 iteratee迭代器  
     */
    var differenceBy = function (array, ...args) {
        var iteratee = args[args.length - 1]
        switch (typeof iteratee) {
            case 'function':
                args.pop()
                var arg = args.join().split(',').map(Number)
                var temp = []
                for (let i = 0; i < arg.length; i++) {
                    arg[0] = iteratee(arg[0])
                }
                for (let j = 0, x = 0; j < array.length; j++) {
                    if (arg.indexOf(iteratee(array[j])) == -1) {
                        temp[x] = iteratee(array[j])
                        x++
                    }
                }
                return array = temp
            case 'string':
                args.pop()
                var arg = args[0][0]
                var temp = []
                for (let i = 0, k = 0, j = 0; i < array.length; i++) {
                    if (arg[iteratee] != array[i][iteratee]) {
                        temp[k] = array[i]
                        j++
                    }
                }
                return array = temp
            default:
                var arg = args.join().split(',').map(Number)
                var temp = []
                for (let i = 0, j = 0; i < array.length; i++) {
                    if (arg.indexOf(array[i]) == -1) {
                        temp[j] = array[i]
                        j++
                    }
                }
                array = temp
                return array
        }
    }

    debugger;
    console.log(differenceBy([{ "x": 2 }, { "x": 1 }], [{ "x": 1 }], "x"))


</script>