<script>
    function reduce(collection, fun, initialval) {
        //如果参数只有两个，把最后一个参数赋值为0
        if (arguments.length === 2) {
            initialval = 0
        }
        //遍历collection 然后给默认值赋值为传入方法的返回值 把参数都传进去
        for (var i in collection) {
            initialval = fun(initialval, collection[i], i)
        }
        return initialval
    }
    debugger

    var a = reduce({ "a": 1, "b": 2, "c": 1 }, function (result, value, key) {
        (result[value] || (result[value] = [])).push(key);
        return result;
    }, {})
    console.log(a);
</script>